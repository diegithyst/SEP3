@page "/ViewAccount/{id:int}"
@using Domain.Model
@using HttpClients.ClientInterfaces
@inject IAccountService accountService

<div>
    <p>Id of the account: @id</p>
    <br/>
    <p>Name of the account: @name</p>
    <br/>
    <p>Currency of the account: @MainCurrency</p>
    <br/>
    <p>Loan of the account: @Loan</p>
</div>

@code {
    [Parameter]
    public int id { get; set; }
    private string MainCurrency = "";
    private bool Loan;
    private string name;
    private CurrencyList currencies;
    
    private string msg = "";

    protected override async Task OnInitializedAsync()
    {
        try
        {
            Account account = await accountService.GetAccountAsync(id);
            MainCurrency = account.mainCurrency;
            Loan = account.loan;
            name = account.name;
            currencies = account.Currencies;
        }
        catch (Exception e)
        {
            Console.WriteLine(e);
            msg = e.Message;
        }
    }

}
